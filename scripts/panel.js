const ref = firebase.database().ref();

document.getElementById("newEvent__submit").addEventListener("click", createEvent)
document.getElementById("topbar__add").addEventListener('click', newEvent)
document.getElementById("leftbar__logout").addEventListener('click', logOut)
document.getElementById("leftbar__settings").addEventListener('click', function () {
	window.location.href = "settings.html"
})
document.getElementById("newEvent__cancel").addEventListener('click',function(){
	document.getElementById("newEvent").style.opacity = "0"
	document.getElementById("bg").style.opacity = "0"
	setTimeout(() => {
		document.getElementById("newEvent").style.display = "none"
		document.getElementById("bg").style.display = "none"
	}, 500);
})


$('#newEvent__hours').inputmask("hh:mm");
$('#newEvent__date').inputmask({
	alias: "date",
	"placeholder": "__/__/____"
});


firebase.auth().onAuthStateChanged(function (user) {
	if (user) {
		var user = firebase.auth().currentUser.displayName;
		document.getElementById("leftbar__username").innerHTML = user
		setTimeout(() => {
			document.getElementById("preloader").style.display = "none";
		}, 2000);
		setTimeout(() => {
			refreshPanel();
		}, 1500);
	}
	else{
		window.location.href="login.html"
	}

});

function refreshPanel() {
	document.getElementById("dashboard").innerHTML="";
	var user = firebase.auth().currentUser.displayName;
	let eventNumber = 0;
	ref.child(`users/${user}/events`).once("value")
		.then(function (snapshot) {
			snapshot.forEach(function (childSnapshot) {
				eventNumber++;
				let key = childSnapshot.key;
				console.log(key)
				let childData = childSnapshot.val();
				let eventIcon;
				if (childData.type === "Meeting") {
					eventIcon = `<svg class="dashboard__type" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512.002 512.002" style="enable-background:new 0 0 512.002 512.002;" xml:space="preserve">
								<g>
										<g>
												<path d="M228.242,108.792l-48.176-12.909c-5.266-1.411-11.173-0.242-15.416,3.05c-3.227,2.502-5.236,6.047-5.673,9.917                           l-5.337,19.919c-1.573,3.644-1.586,7.801,0.006,11.644c0.524,1.265,1.209,2.463,2.025,3.573                           c-5.1,10.618-10.914,23.713-17.017,38.282c-0.007,0.017-0.014,0.033-0.021,0.049c-5.331,12.728-10.879,26.572-16.359,40.867                           c-18.682,5.068-42.505,26.934-49.436,52.794L26.98,447.128c-4.413,16.473,6.424,33.74,24.157,38.491l46.947,12.58                           c0,0,0.002,0,0.002,0.001l46.945,12.579c3.054,0.818,6.156,1.224,9.229,1.224c5.351,0,10.613-1.23,15.372-3.648                           c7.852-3.99,13.38-10.678,15.565-18.832l6.308-23.543c0.001-0.003,0.003-0.007,0.003-0.01c0.001-0.003,0.001-0.006,0.002-0.009                           l39.546-147.587c6.93-25.861-2.77-56.708-16.414-70.439c3.437-21.645,6.295-42.565,8.314-60.632                           c0.006-0.052,0.013-0.104,0.018-0.157c1.01-9.053,1.807-17.38,2.362-24.725c4.329-2.121,7.763-6.016,9.107-11.027l5.832-21.763                           C242.7,120.568,237.302,111.22,228.242,108.792z M165.878,484.344c-0.697,2.599-2.581,4.794-5.307,6.179                           c-3.085,1.567-6.766,1.9-10.365,0.936l-46.944-12.578c-0.001,0-0.001-0.001-0.002-0.001L56.313,466.3                           c-6.961-1.865-11.547-8.275-10.015-13.997l3.723-13.895l119.58,32.042L165.878,484.344z M174.778,451.132L55.197,419.09                           L89.57,290.813l119.58,32.042L174.778,451.132z M213.276,303.255l-117.482-31.48c8.671-17.117,26.267-29.503,34.042-29.699                           c4.061-0.102,7.658-2.652,9.099-6.451c5.197-13.704,10.479-27.05,15.591-39.444h47.256c-1.648,13.427-3.697,28.106-6.052,43.269                           l-2.445-0.655c-5.337-1.43-10.818,1.736-12.247,7.071c-1.429,5.335,1.736,10.818,7.071,12.247l11.479,3.076                           C206.103,266.396,214.278,284.986,213.276,303.255z M215.733,143.945c-0.079,0.001-0.157,0.01-0.236,0.013                           c-0.074,0.002-0.146,0.007-0.219,0.012c-0.243,0.015-0.484,0.038-0.723,0.07c-0.083,0.011-0.165,0.021-0.247,0.034                           c-0.239,0.038-0.475,0.086-0.71,0.141c-0.068,0.016-0.138,0.028-0.206,0.046c-0.287,0.074-0.57,0.159-0.848,0.258                           c-0.09,0.032-0.177,0.071-0.267,0.105c-0.187,0.073-0.373,0.148-0.555,0.231c-0.113,0.052-0.223,0.108-0.333,0.164                           c-0.157,0.079-0.311,0.161-0.464,0.248c-0.107,0.061-0.214,0.124-0.319,0.189c-0.159,0.098-0.313,0.203-0.466,0.31                           c-0.088,0.062-0.177,0.121-0.263,0.186c-0.203,0.152-0.399,0.312-0.59,0.479c-0.03,0.026-0.062,0.049-0.091,0.076                           c-0.225,0.202-0.439,0.415-0.646,0.636c-0.043,0.046-0.082,0.095-0.124,0.142c-0.157,0.175-0.309,0.355-0.454,0.542                           c-0.059,0.076-0.115,0.155-0.172,0.233c-0.119,0.162-0.233,0.328-0.342,0.498c-0.061,0.095-0.121,0.192-0.179,0.289                           c-0.094,0.158-0.182,0.321-0.268,0.485c-0.058,0.111-0.116,0.221-0.17,0.334c-0.075,0.16-0.143,0.324-0.21,0.488                           c-0.05,0.121-0.104,0.24-0.148,0.363c-0.088,0.242-0.165,0.49-0.235,0.742c-0.083,0.299-0.15,0.604-0.206,0.913                           c-0.012,0.065-0.03,0.13-0.041,0.195c-0.007,0.042-0.008,0.087-0.015,0.131c-0.044,0.302-0.079,0.604-0.096,0.905                           c-0.364,6.547-0.996,14.238-1.859,22.779h-41.044c5.17-11.881,9.983-22.289,14.13-30.493c0.131-0.26,0.248-0.53,0.357-0.804                           c0.019-0.049,0.045-0.097,0.064-0.146c0.02-0.054,0.034-0.111,0.054-0.165c0.11-0.304,0.206-0.61,0.286-0.919                           c0.065-0.253,0.123-0.507,0.167-0.76c0.022-0.124,0.034-0.248,0.051-0.372c0.025-0.184,0.05-0.367,0.064-0.55                           c0.01-0.117,0.014-0.234,0.019-0.351c0.009-0.196,0.014-0.391,0.011-0.585c-0.002-0.104-0.004-0.208-0.009-0.311                           c-0.009-0.216-0.027-0.43-0.05-0.643c-0.009-0.083-0.017-0.166-0.028-0.249c-0.034-0.255-0.079-0.508-0.133-0.759                           c-0.009-0.042-0.015-0.083-0.024-0.125c-0.069-0.302-0.151-0.6-0.247-0.893c-0.006-0.018-0.013-0.035-0.019-0.052                           c-0.087-0.26-0.186-0.517-0.294-0.768c-0.04-0.092-0.084-0.182-0.126-0.273c-0.081-0.175-0.165-0.348-0.257-0.518                           c-0.057-0.107-0.117-0.212-0.178-0.317c-0.088-0.151-0.181-0.299-0.277-0.446c-0.069-0.106-0.138-0.212-0.211-0.316                           c-0.11-0.155-0.228-0.304-0.347-0.453c-0.066-0.083-0.128-0.169-0.198-0.25c-0.188-0.22-0.387-0.432-0.594-0.635                           c-0.063-0.062-0.13-0.118-0.195-0.178c-0.162-0.151-0.328-0.298-0.501-0.439c-0.074-0.06-0.151-0.118-0.227-0.176                           c-0.181-0.139-0.367-0.271-0.559-0.398c-0.069-0.045-0.137-0.091-0.208-0.135c-0.063-0.04-0.124-0.085-0.188-0.123l4.454-16.606                           l42.409,11.363L215.733,143.945z" /> </g>
								</g>
								<g>
										<g>
												<path d="M164.797,231.165l-0.234-0.062c-5.335-1.422-10.816,1.749-12.239,7.085c-1.424,5.337,1.748,10.816,7.085,12.239                           l0.234,0.063c0.863,0.23,1.73,0.34,2.583,0.34c4.419,0,8.463-2.953,9.656-7.426C173.305,238.067,170.133,232.588,164.797,231.165z                           " /> </g>
								</g>
								<g>
										<g>
												<path d="M164.826,352.121c-5.036-8.723-13.167-14.961-22.896-17.568c-3.198-0.857-6.487-1.292-9.775-1.292                           c-17.024,0-31.993,11.495-36.401,27.953c-2.607,9.728-1.27,19.889,3.766,28.611c5.036,8.722,13.167,14.961,22.895,17.567                           c3.198,0.857,6.487,1.291,9.775,1.291c17.023,0,31.993-11.494,36.402-27.953C171.2,371.003,169.862,360.842,164.826,352.121z                            M149.275,375.555c-2.071,7.73-9.096,13.128-17.084,13.128c-1.541,0-3.088-0.205-4.6-0.61c-4.568-1.224-8.386-4.154-10.75-8.249                           c-2.365-4.096-2.993-8.866-1.768-13.435c2.07-7.73,9.095-13.129,17.083-13.129c1.541,0,3.088,0.205,4.6,0.61                           c4.568,1.224,8.386,4.154,10.751,8.25C149.87,366.216,150.498,370.987,149.275,375.555z" /> </g>
								</g>
								<g>
										<g>
												<path d="M485.012,447.127l-45.859-171.149c-6.93-25.862-30.753-47.728-49.435-52.794c-5.48-14.295-11.028-28.14-16.359-40.867                           c-0.007-0.017-0.014-0.033-0.021-0.05c-6.103-14.569-11.917-27.664-17.018-38.281c0.815-1.109,1.5-2.308,2.024-3.572                           c1.593-3.843,1.579-8.001,0.007-11.645l-5.338-19.919c-0.437-3.869-2.445-7.414-5.672-9.916c-4.243-3.293-10.15-4.462-15.417-3.05                           l-48.177,12.908c-4.382,1.175-8.048,3.992-10.322,7.932c-2.275,3.941-2.882,8.525-1.707,12.907l5.83,21.764                           c1.344,5.011,4.778,8.906,9.108,11.026c0.554,7.341,1.35,15.663,2.359,24.711c0.006,0.064,0.015,0.128,0.022,0.192                           c2.018,18.061,4.875,38.972,8.311,60.61c-13.644,13.73-23.343,44.579-16.414,70.439l45.859,171.148                           c2.186,8.155,7.714,14.843,15.566,18.832c4.759,2.419,10.021,3.648,15.372,3.648c3.072,0,6.175-0.405,9.228-1.224l93.895-25.159                           c8.372-2.243,15.508-7.357,20.093-14.399C485.754,463.837,487.197,455.282,485.012,447.127z M297.769,144.084                           c-0.149-0.024-0.3-0.044-0.451-0.062c-0.172-0.021-0.344-0.037-0.518-0.049c-0.118-0.008-0.236-0.016-0.356-0.02                           c-0.063-0.002-0.124-0.009-0.186-0.01l-4.449-16.608l42.409-11.36l4.451,16.606c-0.064,0.039-0.125,0.083-0.188,0.123                           c-0.071,0.045-0.141,0.091-0.211,0.137c-0.19,0.126-0.375,0.258-0.555,0.395c-0.077,0.06-0.155,0.118-0.231,0.179                           c-0.17,0.139-0.334,0.284-0.494,0.433c-0.066,0.062-0.136,0.121-0.201,0.184c-0.205,0.202-0.403,0.413-0.59,0.631                           c-0.073,0.085-0.139,0.176-0.209,0.264c-0.115,0.144-0.229,0.289-0.336,0.438c-0.076,0.106-0.146,0.215-0.218,0.325                           c-0.094,0.143-0.185,0.287-0.271,0.435c-0.063,0.107-0.124,0.216-0.183,0.326c-0.09,0.167-0.172,0.336-0.252,0.507                           c-0.044,0.094-0.09,0.187-0.13,0.282c-0.105,0.246-0.201,0.497-0.287,0.751c-0.008,0.023-0.018,0.046-0.025,0.069                           c-0.096,0.292-0.177,0.589-0.246,0.889c-0.01,0.046-0.017,0.092-0.026,0.138c-0.053,0.246-0.098,0.495-0.132,0.746                           c-0.011,0.085-0.018,0.171-0.028,0.256c-0.023,0.211-0.04,0.423-0.05,0.637c-0.005,0.104-0.008,0.209-0.01,0.314                           c-0.002,0.193,0.003,0.386,0.012,0.581c0.005,0.119,0.01,0.236,0.018,0.355c0.015,0.183,0.04,0.365,0.065,0.548                           c0.017,0.124,0.029,0.249,0.052,0.372c0.047,0.266,0.105,0.531,0.175,0.796c0.072,0.278,0.162,0.554,0.26,0.828                           c0.026,0.073,0.046,0.15,0.073,0.223c0.012,0.031,0.028,0.061,0.04,0.091c0.116,0.296,0.243,0.585,0.385,0.864                           c4.147,8.203,8.958,18.607,14.127,30.485h-41.043c-0.863-8.542-1.496-16.233-1.859-22.779c-0.017-0.303-0.052-0.608-0.097-0.913                           c-0.006-0.041-0.008-0.082-0.014-0.122c-0.011-0.066-0.029-0.132-0.042-0.198c-0.053-0.294-0.114-0.586-0.192-0.871                           c-0.073-0.268-0.156-0.53-0.25-0.787c-0.041-0.114-0.091-0.224-0.137-0.337c-0.071-0.175-0.144-0.35-0.224-0.519                           c-0.05-0.105-0.105-0.208-0.159-0.312c-0.09-0.173-0.183-0.344-0.281-0.511c-0.055-0.092-0.111-0.182-0.168-0.272                           c-0.112-0.175-0.23-0.346-0.353-0.513c-0.056-0.076-0.109-0.153-0.167-0.227c-0.142-0.183-0.291-0.359-0.444-0.531                           c-0.048-0.053-0.092-0.108-0.14-0.16c-0.201-0.215-0.41-0.422-0.628-0.618c-0.075-0.068-0.156-0.129-0.233-0.195                           c-0.142-0.12-0.283-0.239-0.432-0.35c-0.124-0.095-0.254-0.182-0.383-0.271c-0.105-0.071-0.209-0.142-0.316-0.209                           c-0.15-0.095-0.304-0.186-0.46-0.273c-0.086-0.048-0.173-0.093-0.26-0.139c-0.175-0.091-0.351-0.18-0.531-0.261                           c-0.055-0.024-0.11-0.045-0.165-0.069c-0.605-0.258-1.238-0.456-1.895-0.59C298.011,144.131,297.891,144.105,297.769,144.084z                            M312.407,261.189l11.478-3.075c5.335-1.429,8.501-6.913,7.071-12.247c-1.43-5.334-6.915-8.502-12.247-7.071l-2.445,0.655                           c-2.354-15.164-4.403-29.844-6.052-43.269h47.257c5.112,12.394,10.395,25.74,15.591,39.444c1.441,3.798,5.037,6.348,9.099,6.45                           c7.774,0.196,25.369,12.582,34.04,29.7l-117.482,31.48C297.715,284.985,305.891,266.395,312.407,261.189z M337.214,451.133                           l-34.372-128.278l119.58-32.042l34.372,128.278L337.214,451.133z M464.188,460.307c-1.889,2.9-4.91,5.029-8.508,5.993                           l-93.895,25.159c-3.599,0.964-7.278,0.632-10.364-0.936c-2.726-1.385-4.61-3.579-5.307-6.179l-3.723-13.894l119.58-32.042                           l3.723,13.895C466.39,454.903,465.856,457.746,464.188,460.307z" /> </g>
								</g>
								<g>
										<g>
												<path d="M359.665,238.178c-1.429-5.334-6.909-8.503-12.246-7.073l-0.233,0.063c-5.335,1.429-8.501,6.912-7.072,12.246                           c1.196,4.469,5.236,7.416,9.653,7.416c0.855,0,1.727-0.111,2.593-0.343l0.233-0.063                           C357.928,248.995,361.094,243.512,359.665,238.178z" /> </g>
								</g>
								<g>
										<g>
												<path d="M416.238,361.214c-4.409-16.459-19.379-27.954-36.402-27.954c-3.288,0-6.577,0.435-9.775,1.292                           c-9.729,2.606-17.859,8.845-22.896,17.568c-5.035,8.722-6.373,18.883-3.767,28.612c4.41,16.456,19.38,27.951,36.402,27.952                           c0.001,0,0.001,0,0.002,0c3.287,0,6.576-0.435,9.774-1.291c9.728-2.606,17.859-8.845,22.895-17.567                           C417.507,381.103,418.845,370.942,416.238,361.214z M395.152,379.825c-2.365,4.096-6.183,7.025-10.75,8.249                           c-1.511,0.405-3.059,0.61-4.599,0.61c0,0,0,0-0.001,0c-7.987,0-15.014-5.399-17.085-13.128c-1.224-4.568-0.596-9.339,1.768-13.435                           c2.365-4.096,6.183-7.025,10.751-8.25c1.511-0.405,3.059-0.61,4.6-0.61c7.987,0,15.013,5.399,17.084,13.13                           C398.144,370.958,397.516,375.729,395.152,379.825z" /> </g>
								</g>
								<g>
										<g>
												<path d="M255.996,0c-5.523,0-10,4.477-10,10v26.764c0,5.523,4.477,10,10,10c5.522,0,10-4.477,10-10V10                           C265.996,4.477,261.519,0,255.996,0z" /> </g>
								</g>
								<g>
										<g>
												<path d="M222.552,50.193l-13.596-23.178c-2.794-4.764-8.922-6.361-13.685-3.566c-4.764,2.794-6.36,8.921-3.566,13.685                           l13.596,23.178c1.862,3.174,5.203,4.942,8.635,4.942c1.719,0,3.461-0.443,5.05-1.376C223.75,61.083,225.346,54.956,222.552,50.193                           z" /> </g>
								</g>
								<g>
										<g>
												<path d="M316.723,23.449c-4.765-2.795-10.892-1.197-13.686,3.566l-13.596,23.178c-2.794,4.764-1.198,10.891,3.566,13.685                           c1.59,0.933,3.331,1.376,5.05,1.376c3.432,0,6.773-1.768,8.636-4.942l13.596-23.178C323.083,32.37,321.486,26.243,316.723,23.449z                           " /> </g>
								</g>
						</svg>`
				}
				else {
					eventIcon = `<svg class="dashboard__type" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512.001 512.001" style="enable-background:new 0 0 512.001 512.001;" xml:space="preserve">
								<g>
									<g>
										<path d="M254.888,49.549c-5.523,0-10,4.477-10,10v73.185c0,5.523,4.477,10,10,10c5.522,0,10-4.477,10-10V59.549    C264.888,54.026,260.41,49.549,254.888,49.549z" />
									</g>
								</g>
								<g>
									<g>
										<path d="M261.96,10.555c-1.86-1.86-4.44-2.93-7.07-2.93c-2.64,0-5.21,1.07-7.07,2.93s-2.93,4.44-2.93,7.07s1.07,5.21,2.93,7.07    s4.43,2.93,7.07,2.93c2.63,0,5.21-1.07,7.07-2.93s2.93-4.44,2.93-7.07S263.819,12.415,261.96,10.555z" />
									</g>
								</g>
								<g>
									<g>
										<path d="M290.714,173.895v-20.423c0-16.949-13.789-30.738-30.738-30.738H249.8c-16.949,0-30.738,13.789-30.738,30.738v20.423    c-21.826,4.907-42.01,14.201-59.58,26.897c-0.68,0.383-1.31,0.85-1.886,1.382c-39.996,29.779-65.953,77.409-65.953,130.995    c0,53.591,25.961,101.231,65.964,131.012c0.556,0.512,1.168,0.956,1.822,1.329c26.864,19.432,59.845,30.904,95.459,30.904    c90.014,0,163.245-73.231,163.245-163.245C418.133,255.461,363.551,190.268,290.714,173.895z M147.191,238.83    c-2.501,12.483-4.499,25.044-5.997,37.652c-0.378,0.077-0.756,0.148-1.134,0.225l-18.376,3.773    C127.781,265.12,136.465,251.059,147.191,238.83z M115.235,365.101c-2.348-10.272-3.592-20.959-3.592-31.932    c0-10.618,1.171-20.965,3.373-30.93c0.179-0.027,0.358-0.046,0.538-0.083l23.633-4.853c-1.807,24.14-1.787,48.385,0.059,72.523    l-23.768-4.689C115.397,365.121,115.316,365.115,115.235,365.101z M122.079,386.825l18.056,3.562    c0.384,0.076,0.768,0.145,1.152,0.22c1.488,12.356,3.452,24.666,5.904,36.902C136.692,415.537,128.155,401.808,122.079,386.825z     M173.109,215.632c12.233-8.538,25.854-15.215,40.452-19.622c-4.814,23.573-8.371,47.412-10.658,71.366    c-13.712,1.265-27.409,3.025-41.078,5.293C164.367,253.49,168.137,234.439,173.109,215.632z M159.565,293.353    c13.877-2.445,27.785-4.354,41.711-5.728c-0.921,14.09-1.418,28.203-1.456,42.311c-0.043,16.401,0.524,32.814,1.674,49.19    c-13.98-1.318-27.941-3.154-41.871-5.509C157.269,346.917,157.248,320.056,159.565,293.353z M173.109,450.706    c-4.92-18.612-8.665-37.462-11.206-56.441c13.75,2.191,27.528,3.889,41.322,5.105c2.396,23.885,6.044,47.651,10.954,71.141    C199.347,466.108,185.514,459.364,173.109,450.706z M388.092,280.48l-18.376-3.773c-1.025-0.211-2.052-0.407-3.077-0.612    c-1.603-13.398-3.775-26.741-6.511-39.994C371.988,248.95,381.536,263.963,388.092,280.48z M334.354,214.047    c5.154,19.22,9.049,38.699,11.663,58.313c-13.657-2.218-27.34-3.944-41.039-5.162c-2.308-24.085-5.912-48.098-10.77-71.786    C308.646,199.54,322.157,205.884,334.354,214.047z M239.062,153.472c0-5.921,4.817-10.738,10.738-10.738h10.176    c5.921,0,10.738,4.817,10.738,10.738v17.222c-5.209-0.504-10.487-0.77-15.826-0.77c-5.339,0-10.617,0.266-15.826,0.77V153.472z     M234.994,191.312c6.504-0.907,13.143-1.388,19.894-1.388c6.079,0,12.069,0.384,17.951,1.122    c5.384,24.609,9.358,49.618,11.893,74.721c-20.506-1.085-41.031-1.046-61.536,0.106    C225.694,240.794,229.634,215.88,234.994,191.312z M272.221,475.231l-0.03,0.136c-5.674,0.686-11.447,1.048-17.303,1.048    c-6.529-0.001-12.954-0.449-19.254-1.299c-5.464-24.476-9.491-49.309-12.103-74.311c10.449,0.558,20.902,0.848,31.357,0.848    c9.84,0,19.68-0.252,29.515-0.746C281.757,425.889,277.685,450.781,272.221,475.231z M334.354,452.291    c-12.375,8.282-26.104,14.69-40.781,18.811c4.952-23.592,8.662-47.544,11.082-71.564c13.78-1.17,27.544-2.833,41.281-4.975    C343.323,413.979,339.457,433.263,334.354,452.291z M348.228,373.936c-13.921,2.305-27.872,4.093-41.842,5.364    c0.181-2.573,0.352-5.147,0.503-7.719c0.326-5.514-3.88-10.246-9.394-10.571c-5.532-0.327-10.246,3.882-10.57,9.395    c-0.204,3.456-0.443,6.912-0.702,10.369c-21.486,1.188-42.997,1.156-64.481-0.1c-2.322-31.489-2.402-63.166-0.232-94.669    c21.639-1.327,43.304-1.359,64.944-0.104c0.276,3.935,0.524,7.87,0.728,11.805c0.276,5.339,4.692,9.483,9.978,9.483    c0.175,0,0.351-0.005,0.526-0.014c5.516-0.286,9.755-4.989,9.469-10.504c-0.159-3.075-0.348-6.151-0.549-9.227    c13.915,1.324,27.813,3.183,41.679,5.576C350.641,319.939,350.621,347.02,348.228,373.936z M360.127,430.238    c2.686-13.011,4.825-26.109,6.419-39.26c1.031-0.198,2.063-0.388,3.093-0.591l18.057-3.562    C381.154,402.96,371.755,417.64,360.127,430.238z M394.297,365.137l-25.692,5.068c1.886-24.394,1.904-48.9,0.058-73.297    l25.557,5.248c0.18,0.037,0.359,0.056,0.539,0.083c2.202,9.965,3.373,20.313,3.373,30.931c0,10.973-1.244,21.66-3.592,31.932    C394.459,365.115,394.378,365.121,394.297,365.137z" />
									</g>
								</g>
								<g>
									<g>
										<path d="M304.439,326.095c-1.859-1.86-4.439-2.93-7.069-2.93s-5.21,1.07-7.07,2.93c-1.861,1.86-2.93,4.44-2.93,7.08    c0,2.63,1.07,5.2,2.93,7.07c1.86,1.86,4.44,2.92,7.07,2.92s5.21-1.06,7.069-2.92c1.861-1.87,2.931-4.44,2.931-7.07    C307.37,330.535,306.299,327.965,304.439,326.095z" />
									</g>
								</g>
								<g>
									<g>
										<path d="M89.769,444.978c-15.476-4.088-27.504-16.274-31.391-31.801c-1.114-4.45-5.113-7.572-9.701-7.572    s-8.587,3.122-9.701,7.572c-3.887,15.527-15.915,27.712-31.399,31.803C3.116,446.162,0,450.212,0,454.827s3.116,8.665,7.577,9.848    c0.003,0.001,0.005,0.001,0.008,0.002c15.475,4.088,27.504,16.274,31.391,31.801c1.115,4.45,5.114,7.572,9.701,7.572    s8.587-3.122,9.701-7.572c3.886-15.528,15.915-27.713,31.399-31.804c4.467-1.184,7.582-5.238,7.577-9.859    C97.349,450.194,94.223,446.147,89.769,444.978z M48.677,470.402c-4.25-6.05-9.524-11.324-15.577-15.575    c6.053-4.251,11.326-9.525,15.577-15.575c4.25,6.049,9.524,11.322,15.578,15.574C58.201,459.078,52.928,464.352,48.677,470.402z" />
									</g>
								</g>
								<g>
									<g>
										<path d="M173.634,140.823c-0.171-0.361-0.355-0.712-0.541-1.061c-0.085-0.219-0.168-0.439-0.27-0.655l-34.701-73.324    c-1.194-2.523-3.389-4.433-6.054-5.266c-2.665-0.833-5.557-0.515-7.976,0.878l-76.123,43.833    c-4.516,2.601-6.278,8.233-4.049,12.943l21.345,45.103c-4.958,0.365-9.986,1.689-14.744,3.94    c-7.939,3.758-14.628,9.768-18.835,16.924c-4.929,8.385-5.735,17.463-2.212,24.907c3.523,7.444,11.055,12.576,20.664,14.081    c2.014,0.316,4.068,0.472,6.141,0.472c6.367,0,12.899-1.472,18.888-4.306c7.986-3.779,14.451-9.792,18.204-16.93    c4.188-7.964,4.596-16.743,1.121-24.086c-0.167-0.354-0.351-0.699-0.535-1.043c-0.087-0.225-0.173-0.451-0.277-0.672    l-27.735-58.606l58.735-33.82l19.704,41.635c-4.832,0.376-9.835,1.678-14.72,3.99c-7.94,3.757-14.629,9.768-18.835,16.924    c-4.929,8.385-5.735,17.463-2.212,24.907c4.412,9.321,15.034,14.533,26.951,14.533c6.128,0,12.6-1.379,18.743-4.286    C172.056,173.441,180.543,155.425,173.634,140.823z M68.065,183.165c1.061,0,2.089,0.098,3.062,0.298    c1.527,0.313,4.244,1.168,5.285,3.37c1.043,2.2-0.018,4.843-0.744,6.223c-1.723,3.277-5.024,6.251-9.057,8.159    c-4.224,1.999-9.225,2.805-13.379,2.154c-2.833-0.444-5.063-1.573-5.681-2.878c-0.617-1.304-0.077-3.744,1.376-6.217    c2.13-3.625,5.924-6.982,10.148-8.981C62.026,183.896,65.17,183.165,68.065,183.165z M145.754,163.762    c-8.441,3.996-17.573,2.42-19.06-0.724c-0.617-1.304-0.077-3.745,1.376-6.217c2.13-3.625,5.924-6.981,10.148-8.98    c3.129-1.481,6.261-2.128,9.003-2.128c4.064,0,7.272,1.423,8.333,3.667C157.334,153.137,153.521,160.086,145.754,163.762z" />
									</g>
								</g>
								<g>
									<g>
										<path d="M449.225,125.861c-15.477-4.088-27.505-16.274-31.393-31.801c-1.113-4.451-5.113-7.572-9.7-7.572    c-4.588,0-8.587,3.122-9.701,7.572c-3.886,15.528-15.914,27.713-31.381,31.799c-4.472,1.177-7.595,5.228-7.595,9.852    c0,4.621,3.119,8.67,7.585,9.85c15.477,4.088,27.505,16.274,31.391,31.801c1.114,4.45,5.113,7.572,9.701,7.572    c4.587,0,8.587-3.122,9.7-7.573c3.888-15.527,15.916-27.713,31.383-31.799c4.466-1.175,7.589-5.221,7.594-9.839    C456.815,131.105,453.703,127.051,449.225,125.861z M408.132,151.285c-4.25-6.049-9.522-11.323-15.576-15.574    c6.052-4.251,11.326-9.524,15.576-15.575c4.251,6.051,9.523,11.324,15.576,15.575    C417.655,139.963,412.383,145.236,408.132,151.285z" />
									</g>
								</g>
								<g>
									<g>
										<path d="M502.417,396.236c-19.026-0.794-43.783-11.338-44.026-11.443c-2.881-1.24-6.175-1.058-8.898,0.493    c-2.726,1.55-4.566,4.288-4.973,7.396l-7.573,57.936c-4.461-2.472-9.635-4.204-15.295-4.944    c-8.924-1.168-18.019,0.301-25.608,4.131c-8.863,4.474-14.57,11.811-15.658,20.13c-1.088,8.319,2.542,16.877,9.958,23.479    c6.351,5.652,14.763,9.408,23.686,10.574c1.997,0.261,3.966,0.388,5.896,0.388c17.323,0,31.497-10.192,33.421-24.902v-0.001    c0.021-0.161,0.03-0.32,0.048-0.48c0.016-0.102,0.041-0.201,0.054-0.304l9.266-70.886c10.263,3.524,25.353,7.853,38.869,8.417    c5.531,0.217,10.178-4.057,10.408-9.574C512.222,401.126,507.935,396.466,502.417,396.236z M433.514,476.88    c-0.576,4.402-7.923,8.449-16.893,7.277c-4.842-0.633-9.694-2.757-12.98-5.682c-2.321-2.067-3.634-4.346-3.424-5.948    c0.209-1.602,2.063-3.466,4.838-4.867c3.046-1.537,6.877-2.366,10.702-2.366c1.107,0,2.215,0.069,3.303,0.211    C428.03,466.678,434.089,472.477,433.514,476.88z" />
									</g>
								</g>
								</svg>`
				}
				let event = `<div class="dashboard__event">
							${eventIcon}
								<p class="dashboard__eventName">${childData.name}</p>
								<div class="dashboard__info">
										<div class="dashboard__time">
												<div class="dashboard__date">
														<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
																<g>
																		<g>
																				<path d="M452,40h-24V0h-40v40H124V0H84v40H60C26.916,40,0,66.916,0,100v352c0,33.084,26.916,60,60,60h392                                            c33.084,0,60-26.916,60-60V100C512,66.916,485.084,40,452,40z M472,452c0,11.028-8.972,20-20,20H60c-11.028,0-20-8.972-20-20V188                                            h432V452z M472,148H40v-48c0-11.028,8.972-20,20-20h24v40h40V80h264v40h40V80h24c11.028,0,20,8.972,20,20V148z" /> </g>
																</g>
																<g>
																		<g>
																				<rect x="76" y="230" width="40" height="40" /> </g>
																</g>
																<g>
																		<g>
																				<rect x="156" y="230" width="40" height="40" /> </g>
																</g>
																<g>
																		<g>
																				<rect x="236" y="230" width="40" height="40" /> </g>
																</g>
																<g>
																		<g>
																				<rect x="316" y="230" width="40" height="40" /> </g>
																</g>
																<g>
																		<g>
																				<rect x="396" y="230" width="40" height="40" /> </g>
																</g>
																<g>
																		<g>
																				<rect x="76" y="310" width="40" height="40" /> </g>
																</g>
																<g>
																		<g>
																				<rect x="156" y="310" width="40" height="40" /> </g>
																</g>
																<g>
																		<g>
																				<rect x="236" y="310" width="40" height="40" /> </g>
																</g>
																<g>
																		<g>
																				<rect x="316" y="310" width="40" height="40" /> </g>
																</g>
																<g>
																		<g>
																				<rect x="76" y="390" width="40" height="40" /> </g>
																</g>
																<g>
																		<g>
																				<rect x="156" y="390" width="40" height="40" /> </g>
																</g>
																<g>
																		<g>
																				<rect x="236" y="390" width="40" height="40" /> </g>
																</g>
																<g>
																		<g>
																				<rect x="316" y="390" width="40" height="40" /> </g>
																</g>
																<g>
																		<g>
																				<rect x="396" y="310" width="40" height="40" /> </g>
																</g>
														</svg> ${childData.date} </div>
												<div class="dashboard__hour">
														<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
																<g>
																		<g>
																				<rect x="27.689" y="181" width="58.8" height="30" /> </g>
																</g>
																<g>
																		<g>
																				<rect x="27.689" y="301" width="58.8" height="30" /> </g>
																</g>
																<g>
																		<g>
																				<rect y="241" width="86.49" height="30" /> </g>
																</g>
																<g>
																		<g>
																				<path d="M314.244,58.245c-109.042,0-197.755,88.713-197.755,197.755s88.712,197.755,197.755,197.755S512,365.042,512,256                S423.287,58.245,314.244,58.245z M314.244,423.755c-92.5,0-167.755-75.255-167.755-167.755S221.744,88.245,314.244,88.245                C406.745,88.245,482,163.5,482,256S406.745,423.755,314.244,423.755z" /> </g>
																</g>
																<g>
																		<g>
																				<polygon points="323.93,263.454 323.93,166.557 293.93,166.557 293.93,279.313 371.238,331.996 388.133,307.205   " /> </g>
																</g>
														</svg> ${childData.time} </div>
										</div>
								</div>
						</div> `
				$("#dashboard").append(event)
			});
			if (eventNumber === 0) {
				let noEvents = `<div class="dashboard__noEvents">You don't have any events planned.</div>`
				$("#dashboard").append(noEvents)
			}
		})
}
function logOut() {
	firebase.auth().signOut().then(function () {
		window.location.href = "login.html"
	}, function (error) {
		console.log(error)
	});
}
function newEvent() {
	if (document.getElementById("newEvent").style.display === "flex") {
		document.getElementById("newEvent").style.opacity = "0"
		document.getElementById("bg").style.opacity = "0"
		setTimeout(() => {
			document.getElementById("newEvent").style.display = "none"
			document.getElementById("bg").style.display = "none"
		}, 500);
	} else {
		document.getElementById("newEvent").style.display = "flex"
		document.getElementById("bg").style.display = "block"
		setTimeout(() => {
			document.getElementById("newEvent").style.opacity = "1"
			document.getElementById("bg").style.opacity = ".7"
		}, 200);
	}
}
function createEvent() {
	let eventName = document.getElementById("newEvent__nameInput").value;
	let eventDate = document.getElementById("newEvent__date").value;
	let eventTime = document.getElementById("newEvent__hours").value;
	let type = document.getElementById("slct").value;
	var user = firebase.auth().currentUser.displayName;
	ref.child(`users/${user}/events/${eventName}`)
		.set({
			name: eventName,
			date: eventDate,
			time: eventTime,
			type: type
		})
		.then(() => {
			document.getElementById("newEvent").style.display = "none"
			document.getElementById("bg").style.display = "none"
			refreshPanel();
		})
}